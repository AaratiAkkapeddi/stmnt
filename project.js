var goalsbank1 =[
				["What does the client say they want?", "In contrast, what do you think they need?"],
				["What are you making?", "Is it a product or service? Describe its value."],
				["Who is your competition?", "List the companies doing similar work. List their products"],
				["Does your audience already own something that serves a similar function?", ""],
				["How are you different from the competition?", "What are they doing well? What can you do better?"],
				["Where is your competition missing an opportunity?", "Can you build off that? How?"],
				["Do you have a client?", "Who are they?  What’s most important to them?"],
				["Why are you making this?", "Are you doing this for the money? An opportunity? "],
				["Do a SWOT analysis", "What are the strengths, weaknesses, opportunities and threats involved with this product or service? "],
				["Start researching", "Are there existing research, reports and other documents that can help you understand the situation? Create a starter list to begin the search. Who will track these down and report back to the group?"],
				["What are the precedents?", "Take one minute to list them. What do you like about them? What don’t you like about them?"],
				["How much money do you expect to make?", "Be conservative and resist inflating the numbers"],
				["What’s your budget?", "Where will funding come from?"],
				["What’s your timeline?", "Where does the timeline come from? What happens if you miss the deadline? Are there milestone expectations?"],
				["Can you achieve your goals/expectations within the timeline?", "If not, how can you scale back?"],
				["How soon can you have a working prototype?", "Keep it focused and simple. What features does a first prototype absolutely require? What features you push to another prototype?"],
				["List all of the features you think your projects needs", "Of those features, which ones are absolutely essential? Which ones could you let go?"],
				["Have you ever used a similar product or had a similar experience?", "What was it? What made it memorable? How could it be improved?"],
				["Where will someone be, physically, when they use this?", "Does that space impose conditions regarding use? Does that space influence how you think about this project?"],
				["What problem, or problems, are you trying to solve?", "The goal here is to identify different visions for the product. Its okay if group members vary on their vision or describe its value differently. If there is variation, talk it through"],
				["What is the simplest version of the experience you can imagine?", "How much can you remove and it still retains its essence and use?"],
				["Who is funding this?", "Will this be self-funded? If its externally funded, what do your funders expect in return?"],
				["Do you need investors?", "Who would these be? How will you approach them? What are there needs and what assurance would they require to invest?"],
				["How much do you have to spend on development?", "Create a realistic budget"],
				["Will you recoup your investment?", "Is that important? Why or why not?"],
				["How will collaborators be paid?", "Are they getting paid a flat-fee? Is this work-for-hire? Are they getting less upfront in exchange for backend royalties?"],
				["Are you doing crowdsourcing?", "Why? Which service do you plan to use? What makes one service better than another?"],
				["Best case scenario, what’s the most money you think this will make?", "Cut that in half, is it still worth it to you?"],
				["Are you doing this for the money?","If not, why are you doing this?"],
				["Are you planning to spend money on marketing?","Where? How?"],
				["How much will it cost to produce this?","Where is the money coming from?"],
				["How much will it cost to market this?","Distribute?"],
				["If you don’t make this, what would you be doing?","Why?"],
				["Would someone pay for this?","How much? Is it better to have a low price point and go for volume or a high price point and get fewer buyers?"],
				["What are you trying to achieve?","List 5 things"],
				["What are your top three objectives?","List ten and narrow that down to your top three"],
				["How will this project make you a better person?","A new skill? A better market position? More money?"],
				["Is there a list of deliverables?","What needs to be included? Why?"],
				["Are there preconceived ideas of what this will be?","What are they? Where do they come from? Are they requirements? Limitations and restrictions?"],
				["Will you have regret if this doesn’t happen?","Why?"],
				["Who is your audience?","Is there an existing audience? Who are they? How do you know they’re your audience?"],
				["When will this happen?","What are the start and end dates?"]
				]

var visionbank1 = [
				["It's good to deliver what is expected but one way to be remembered is to offer surprise", "What about this will be surprising?"],
				["There are three paths to take when considering innovation. 1) Continue doing what’s been done previously 2) Push things into unexpected territory but maintain the essence of what’s been seen previously or 3) Upend things. Boldly do something unlike what’s been done before.", "Which path are you taking? Why? How?"],
				["Name an obstacle that might slow you down", "Money, skills, tools, Confidence, etc. How can you address it?"],
				["What makes this unique?", "Does it function differently? Is it a unique shape? Flavor? Size? List 3 ways this distinguishes itself from precedents"],
				["What is the most memorable aspect of the concept?", "How will people describe it to their friends?"],
				["What is your favorite thing about the concept?", "What about this excites you?"],
				["What color(s) do you visualize when you think of your project?", "What do you those colors represent?"],
				["What need does this fill?", "For you? For your team? For the user/audience?"],
				["Name your obstacles", "In one minute list all the obstacles you can think of. Then discuss how to break them down"],
				["How will people Discover your project?", "Be specific. What’s your plan to get in front of people?"],
				["How will your user/audience Engage with your project?", "What can they do? Be specific."],
				["How will your project Inspiration your audience?", "What will impress them so much that they can’t help describing it to a friend? What will they say?"],
				["How will you Follow up with your audience?", "Extend the conversation. How will you remain in touch, give them updates, etc? Be specific."],
				["Focus your idea", "How much can you strip away from this and have it retain its essence?"],
				["How easy should it be to use?", "Does it require instruction? Is it entirely intuitive?"],
				["What about a name?", "List 5 potential names. What do you like/dislike about each name?"],
				["What its personality?", "List five personality traits you associate with it. Choose the two that most resonate with you"],
				["What is its greatest strength?", "How can you capitalize on this?"],
				["What is its greatest weakness?", "How can you address this?"],
				["Do your users already own something that serves a similar function?", "What is it? Why is yours better?"],
				["What are your values?", "List 5 values you want associated with this. Ex. loyalty, cleanliness, sophistication, flavor, etc"],
				["What adjectives describe the feeling or approach?", "List them"],
				["What are you saying with this piece exactly?", "How do you want to be perceived for having made this?"],
				["What do you want users/audience to take away?", "What is the single most important thing you want them to remember?"],
				["Will it require instructions?", "Who will be writing these?"],
				["What are you values?", "List these"],
				["What is the tone of your project?", "Serious, funny, cynical, etc. You might have more than one"],
				["What adjectives describe the feeling or approach?", "List as many as you can then narrow it down to three"],
				["AWhat are you saying with this piece?","What are you trying to express?"],
				["What emotion would you like a user to experience?","Why?"],
				["Where do you imagine someone experiencing the thing you’re making?","How does that influence the experience?"],
				["Is fun important?","Why or why not?"],
				["What questions would you like the user to have?","How are you sparking conversation?"],
				["What is most important to the experience: form, story, or functionality?","Why?"],
				["What color comes to mind?","Why? What does that color represent to you?"],
				["What kind of music comes to mind?","Why?"],
				["What do you want someone to remember about this experience?","Why is that important? Be specific"],
				["How will this experience make the world a better place?","Offer at least one suggestion, preferably more than one"],
				["What is the most important feature or quality of the thing you’re making?","Why? Make a case for it"],
				["What would make someone want to share this experience with someone else?","And who would you like them to share it with?"],
				["What do you love most about this idea?","Why? Be specific"],
				["Is your experience easy to use?","If not, how will you teach the user?"],
				["How does this make someone’s life better?",""],
				["How is this familiar?","How is this novel or different than might be expected?"],
				["Does this require previous knowledge from the user?","If yes, why? If no, why not?"],
				["List 3 adjectives to describe the experience",""],
				["Are there multiple ways to engage with the experience?","What are they?"],
				["Are there rules?","What are they?"],
				["Does the experience require maintenance?","What kind?"],
				["Does the experience encourage risk taking?","What kind? Physical? Emotional? Social?"],
				["If you’re product was a person, how would you describe them to a friend?",""],
				["Can a person get ‘better’ at using the thing you’re making?",""],
				["What senses are engaged?","How?"],
				["How long is the experience?",""],
				["Is this experience addictive?","Why or why not?"],
				["Will this experience produce stories?","What kinds? Who will tell them and where?"],
				["What are the obstacles to the user?","Physical, emotional and intellectual?"],
				["What is the challenge of the experience?","How can the challenge of this experience escalate? Where is the element of master?"]
				]







var processbank1 = [
				["What is your plan for meetings?", "If regular meetings are needed, schedule them"],
				["How should you be communicating?", "Email? Messaging?"],
				["What is your development process", "Agile? Scrum? Kanban? etc"],
				["How are you tracking progress?", "Is this simple enough that people will keep it updated? Is this shared with everyone?"],
				["List the essential features", "What is required for this to serve its purpose?"],
				["Do you have a coach or mentor for your subject matter?", "Who is it? In what subject matter?"],
				["Who can help you through sticking points?", "Name them as a resource"],
				["Who is the project lead?", "Does everyone on the team know?"],
				["What is each person on your team best at?", "List this to make sure you’re leveraging everyone to the best of their abilities"],
				["Who has final say on creative decisions?", "Is everyone prepared to accept those decisions?"],
				["Who has final say on functional decisions?", "Is everyone prepared to accept those decisions?"],
				["Who are you reporting to?", "How often do you meet them and get feedback on your work?"],
				["Who exactly is approving this work?", "Who needs to be informed of progress?"],
				["What is the approval process?", "How long does it take to get feedback?"],
				["Who can you rely on to help you out?", "List them and describe how they can help you"],
				["Do you need scheduled check-ins?", "Schedule them"],
				["How will you resolve conflicting ideas?", "Who has final say?"],
				["What are the greatest risks?", "List and prioritize them"],
				["What skills does the team lack to make this happen?", "What can be done about this?"],
				["Does your team round out gaps in your personal skill set?", "Where do your skills overlap?"],
				["Who needs to be informed of progress?", "By what means? How often?"],
				["Is this the right team for the project?", "Why? If not, why?"],
				["Is everyone on the team communicating objectively?", "If not, why?"],
				["Do members of the team trust one another to make decisions?", "If everyone says Yes. Write that down so it be remembered later"],
				["Are team members empowered to make decisions?", "If everyone says Yes. Write that down so it be remembered later"],
				["Are you willing to compromise?", "If not, why?"],
				["Do you have the tools to make this?","If not, what tools will you need?"],
				["Do you have the skills to make this?","If not, what skills do you need? If you don’t have the skills to develop this, can you hire someone?"],
				["Are meetings agendas clear?","Why can be improved?"],
				["Are your currently talking more than doing?","How can you reduce the overall footprint of meetings?"],
				["Have you evaluated your competition?","Who are they?"],
				["What is your competition doing well?","Make a list. Prioritize it based on where they truly excel"],
				["How is your competition missing opportunities or failing?","Make a list. Prioritize it based on where you see the most opportunity"],
				["How are you different from your competition?","Make a list."],
				["Do you have the skills to complete your project?","List them. If not, what skills are missing?"],
				["How much of your concept can you get rid of have it still retain its essence?","List everything you can get rid of"]
				]






var actionbank1 = [
["Does everyone have clarity on what they should be working on?","If not, why? What can be done about this?"],
["Have you done enough research?","If not, what’s missing?"],
["Stuck on something?","Describe your issue to someone"],
["Got questions?","List them. Don’t hold back. Go for volume."],
["Are there obstacles?","List them. Describe how each one can be removed or overcome"],
["What’s the first step?","Describe the first thing that needs to happen to get this ball rolling"],
["What are your strengths?","List them. For each one describe how you can capitalize on them"],
["What are your weaknesses?", "List them. For each one describe how you can work around them"],
["What is your MVP (minimum viable product)?","List those features"],
["How much time can you put into your project?","Realistically, how much time can each person on the team spend on this? Does this match your schedule?"],
["Can you build this on your own?", "If not, who can help?"],
["Do a gutcheck.","Ask people what they think is the most important thing about your project."],
["Are you using the best technology for this product?","Make a case for it. Make a counter argument"],
["Can you make a fast prototype? ","Proof-of-Principle (Concept), User Experience (Experience),Visual (Aesthetics), Functional (Technical)"],
["What’s  your plan for conducting user testing?", "When will this happen?"],
["What’s the format for your user testing?","Who is coordinating it?"],
["What kind of feedback to you think your product will get?","Be aspirational, what’s your dream response. Then give a hard assessment. What would you need to do to create the response you want?"],
["Do plan for testing with people outside your target audience?","If not, why?"],
["What’s your process for evaluating prototypes and works-in-progress?","Define this"],
["Have you tested your idea with actual users? ","What was their feedback? What did they most like? What needs the most improvement?"],
["How are you documenting user feedback?", "Define this. Who will take care of this?"],
["Do you have an evaluation methodology for prototypes?","What is it? If you don’t have one, who will take the lead on this?"],
["Have you tried breaking your own ideas?", "Play devil's advocate"],
["What’s your greatest concern?", "List the one thing that concerns you most"],
["Are you doing user testing?","If not, why?"],
["Where are you doing user testing?","Be specific"],
["Who will attend/observe user testing?", "Your team? Stakeholders?"],
["What are you looking for in user testing?","What assumptions need to be tested?"],
["Do you have a script for user testing?","Who is writing it?"],
["POST USER TESTING: Did your prototype produce the reactions you expected?","What did you learn?"],
["POST USER TESTING: Were your prototypes useful? ", "If so, in what ways? What would you do differently?"],
["Does your prototype reflect your concept statement?", "How has it changed? Why?"],
["Which of your methods or processes worked particularly well?", "List these so you can continue using them"],
["POST USER TESTING: Did your audience/users/critics react as expected? ", "If not, what surprised you?"],
["POST USER TESTING: Which of your methods or processes were difficult or frustrating to use?  ", "If you overcame the difficulties, how did you do so? How would you do things differently next time to avoid this frustration?"],
["POST USER TESTING: What did you learn about your own process? ", "Describe it"],
["POST USER TESTING: What else could you do better next time?	","Describe it"],
["What is the most gratifying or professionally satisfying part of the project?", "Share it"]
]






var reachbank1 = [
["Who are you making this for?","How do you know they’re your target audience?"],
["How old is your audience?","How do you know their age? What about that age makes them your target?"],
["Are you making something niche or mass market? ","If it’s niche, who/what is the niche?"],
["Where does your audience live?","How do you know? What about that location makes them your audience?"],
["Is your audience single or married?","How do you know? Why is that important?"],
["What is your budget for marketing?","Where is the money coming from? What will that budget cover?"],
["What’s your audience tax bracket?","Why? How might this influence their expectations? How might this influence price point?"],
["What skills does your project require of the user?","List them"],
["Will the user need any background information to enjoy the experience?","How will you teach them how to Engage with your project? How will they learn the rules/instruction, if any?"],
["Is your audience tech-savvy?","If so, why? If not, why not?"],
["What does your user like? ","Why?"],
["What doesn’t your user like? ","Why?"],
["What does your user expect from the experience?","List their expectations"],
["What do you think your user will like most? ","Dislike?"],
["How will your project make your user happy?","Describe this"],
["Surprise your audience","What haven’t they seen in similar projects?"],
["Do your audience already own something that serves a similar function?","What is it? Why is your project better?"],
["Do they know they need what you’re making?","What kind of need (emotional, practical, physical, spiritual, etc)?"],
["How will your project improve your users life?","Be specific?"],
["How will your project connect people?","Be specific"],
["What languages does your user speak?","How will you handle localizing your project to accommodate different languages?"],
["Are they international? ","Does this affect your plans?"],
["Does your user have roommates or live alone? ","Does it matter?"],
["Are they male or female? ","Both? Does it matter?"],
["Are you in your users demographic?","If not, how are you the right person to design for them?"],
["Do you have access to user testers who are in the target demographic?","Where will you find them?"],
["Why should your user care about you?","Be specific"],
["What’s your marketing plan? ","Word of mouth? Which social channels?"],
["Build relationships. ","List 10 people who are doing similar work that you admire. Reach out to them. Introduce yourself and tell them specifically what you love about what they do. Thank them. Don’t ask for anything. "],
["How will this experience transform the user?","List one way this will enable them"],
["How can this experience make friendships stronger?","List ideas. Does your idea?"],
["How will this experience let the users express themselves?","Be creative"],
["How might users surprise you?","Be specific"],
["Is there a community around this kind of experience? ","Who? Where?"],
["What will users share about this experience? ","Where? How?"],
["Is this better or worse if the user is feels challenged?","Describe this"],
["Is the focus personal societal or global?","How?"],
["Where does your audience live?","Geographic location is key for many businesses. "],
["In what industry does your audience work? ","Are you targeting people in a certain occupation? "],
["What’s important to your audience? ","Think of your market’s values and beliefs—what couldn’t they live without? "],
["How does your audience get their information? ","This will dictate how you distribute news, ads, and information about your company. "],
["Who’s important to your audience? ","Referrals and peer support are crucial factors in business growth. Who’s close to your target market? How can you reach them?"],
["How does your audience communicate? ","This can help you tremendously in the customer service department. What mediums do they prefer? How fast do they need a response?"],
["What problems does your audience you face? ","Make a list of the solutions that already exist—and where they come up short."],
["Write SMART goals: specific, measurable, accurate, realistic, and time-sensitive. ", "Here’s a good example to fill in the blanks: We will increase [measurement] to [number] by [month, day, year] to [reason it’s your goal]."],
["What are your marketing goals?","Increase traffic? Increase email subscribers? Increase customers? Prioritize these"]
]


var goalsbank1 = [];
var visionbank1 = [];
var processbank1 = [];
var actionbank1 = [];
var reachbank1 = []


var spData = null;
  function doData(json) {
      spData = json.feed.entry;
      for (var i = spData.length - 1; i >= 0; i--) {
      	var col = spData[i]["gs$cell"]["col"]
      	var txt = spData[i]["gs$cell"]["$t"]
 		
 		if(col == 1){
 			goalsbank1.push(JSON.parse(txt))
 		}else if (col == 2){
 			visionbank1.push(JSON.parse(txt))
 		} else if (col == 3){
 			processbank1.push(JSON.parse(txt))
 		}else if (col == 4){
 			actionbank1.push(JSON.parse(txt))
 		}else if (col == 5){
 			reachbank1.push(JSON.parse(txt))
 		}
      }
      // console.log(spData)
      // console.log(spData[0]["gs$cell"]["col"])
      // console.log(spData[0]["gs$cell"]["$t"])




if(localStorage.getItem('goalsbank')){
	goalsbank = JSON.parse(localStorage.getItem('goalsbank'))
} else{
	goalsbank = goalsbank1
	localStorage.setItem('goalsbank', JSON.stringify(goalsbank))
}
if(localStorage.getItem('visionbank')){
	visionbank = JSON.parse(localStorage.getItem('visionbank'))
} else{
	visionbank = visionbank1
	localStorage.setItem('visionbank', JSON.stringify(visionbank))
}
if(localStorage.getItem('actionbank')){
	actionbank = JSON.parse(localStorage.getItem('actionbank'))
} else{
	actionbank = actionbank1
	localStorage.setItem('actionbank', JSON.stringify(actionbank))
}
if(localStorage.getItem('processbank')){
	processbank = JSON.parse(localStorage.getItem('processbank'))
} else{
	processbank = processbank1
	localStorage.setItem('processbank', JSON.stringify(processbank))
}
if(localStorage.getItem('reachbank')){
	reachbank = JSON.parse(localStorage.getItem('reachbank'))
} else{
	reachbank = reachbank1
	localStorage.setItem('reachbank', JSON.stringify(reachbank))
}


function makeCard(h1, h3){
	var card = $('<div></div>')
	card.addClass('card');
	var exit = $('<p>-</p>');
	exit.addClass('card-exit')
	var h1 = $('<h1>' + h1 + '</h1>');
	var h3 = $('<h3>' + h3 + '</h3>');
	card.append(exit)
	card.append(h1)
	card.append(h3)
	$(exit).on('click', function(){
		console.log('meow')
		var h1 = $(this).parent().find('h1').text()
		var h3 = $(this).parent().find('h3').text()
		var parentClass = $(this).parent().attr('class').split(' ')[1]
		if(parentClass == 'goal-card'){
			goalsbank.splice(goalsbank.indexOf([h1, h3]), 1)
			localStorage.setItem('goalsbank', JSON.stringify(goalsbank))	
		}else if(parentClass == 'action-card'){
			actionbank.splice(actionbank.indexOf([h1, h3]), 1)
			localStorage.setItem('actionbank', JSON.stringify(actionbank))
		}else if(parentClass == 'vision-card'){
			visionbank.splice(visionbank.indexOf([h1, h3]), 1)
			localStorage.setItem('visionbank', JSON.stringify(visionbank))
		}else if(parentClass == 'process-card'){
			processbank.splice(processbank.indexOf([h1, h3]), 1)
			localStorage.setItem('processbank', JSON.stringify(processbank))
		}else if(parentClass == 'reach-card'){
			reachbank.splice(reachbank.indexOf([h1, h3]), 1)
			for (var i = reachbank.length - 1; i >= 0; i--) {
				console.log('"'+h1.trim() + '"')
				console.log('"'+reachbank[i][0].trim() + '"')
				if(reachbank[i][0].trim() == h1.trim()){
				
					console.log('we did it')
					reachbank.splice(i,1)
				}
			}
			localStorage.setItem('reachbank', JSON.stringify(reachbank))
		}

		current_cards.splice(current_cards.indexOf([h1, h3, parentClass]), 1)
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][0] == h1){
				current_cards.splice(i,1)
			}
		}
		localStorage.setItem('current_cards', JSON.stringify(current_cards))
		$(this).parent().remove()
		resetCards()

	})
	return card
}

function setTicker(which, array){
	total = array.length
	var text = "1/"+ total
	var ticker = $('#'+ which + " .ticker");
	ticker.text(text)
}

var current_cards = []
var locked = []
function pushCards(bank, my_class){
	for (var i = bank.length - 1; i >= 0; i--) {
			var h1 = bank[i][0]
			var h3 = bank[i][1]
			current_cards.push([h1, h3, my_class])
		}
}



function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

if(localStorage.getItem('current_cards')){
	current_cards = JSON.parse(localStorage.getItem('current_cards'))
}else{
	pushCards(goalsbank, 'goal-card')
	pushCards(visionbank, 'vision-card')
	pushCards(actionbank, 'action-card')
	pushCards(processbank, 'process-card')
	pushCards(reachbank, 'reach-card')
	shuffleArray(current_cards)
	localStorage.setItem('current_cards',JSON.stringify(current_cards))

}

if(localStorage.getItem('locked')){
	var localLocked = JSON.parse(localStorage.getItem('locked'));
	for (var i = localLocked.length - 1; i >= 0; i--) {
		$(localLocked[i] + " .lock").addClass('on')
	}
}


for (var i = current_cards.length - 1; i >= 0; i--) {
	card = makeCard(current_cards[i][0],current_cards[i][1])
	card.addClass(current_cards[i][2])
	$('#full .cards').prepend(card)
}

setTicker("full", current_cards)

var cardsCarousel = $('#full .cards').flickity({
	draggable: false,
	wrapAround: true,
	freeScroll: false,
	autoPlay: false,
	pageDots: false
})

cardsCarousel.on( 'select.flickity', function( event, index ) {
  var ticker = $(this).parent().find('.ticker')
  var newtext = (index + 1)+'/'+ticker.text().split('/')[1]
  ticker.text(newtext)
});

function resetCards(){
	cardsCarousel.flickity('destroy');
	shuffleArray(current_cards)
	localStorage.setItem('current_cards',JSON.stringify(current_cards))
	$('#full .cards .card').remove();

	for (var i = current_cards.length - 1; i >= 0; i--) {
		card = makeCard(current_cards[i][0],current_cards[i][1])
		card.addClass(current_cards[i][2])
		$('#full .cards').prepend(card)
	}

	setTicker("full", current_cards)

	cardsCarousel = $('#full .cards').flickity({
		draggable: false,
		wrapAround: true,
		freeScroll: false,
		autoPlay: false,
		pageDots: false
	})

	cardsCarousel.on( 'select.flickity', function( event, index ) {
	  var ticker = $(this).parent().find('.ticker')
	  var newtext = (index + 1)+'/'+ticker.text().split('/')[1]
	  ticker.text(newtext)
	});
}

$('.dropdown-trigger').on('click', function(){
 	
	if($(this).parent().find('.dropdown').hasClass('open')){
		$(this).parent().find('.dropdown').removeClass('open')
	} else{
		$(this).parent().find('.dropdown').addClass('open')
	}

})
$(document).mouseup(function(e) 
	{
	    var container = $(".buttons");
	    // if the target of the click isn't the container nor a descendant of the container
	    if (!container.is(e.target) && container.has(e.target).length === 0) 
	    {
	        container.find('.dropdown').removeClass('open');
	        $('body').removeClass('side')
	    }
	});

$('.dropdown-exit').on('click', function(){
	$(this).parent().removeClass('open')
})

$('.one .lock').on('click',function(){
	if($(this).hasClass('on')){
		locked.splice(locked.indexOf(".one"),1);
		localStorage.setItem('locked',JSON.stringify(locked))
		$(this).removeClass('on');
		pushCards(goalsbank, 'goal-card')
		shuffleArray(current_cards)
		resetCards()
	}else{
		$(this).addClass('on');
		locked.push('.one')
		localStorage.setItem('locked',JSON.stringify(locked))
		//remove these cards
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'goal-card'){
				current_cards.splice(i,1)
			}
		}
		resetCards()
	}
})


$('.two .lock').on('click',function(){
	if($(this).hasClass('on')){
		locked.splice(locked.indexOf(".two"),1);
		localStorage.setItem('locked',JSON.stringify(locked))
		$(this).removeClass('on');
		pushCards(visionbank, 'vision-card')
		shuffleArray(current_cards)
		resetCards()
	}else{
		$(this).addClass('on');
		locked.push('.two')
		localStorage.setItem('locked',JSON.stringify(locked))
		//remove these cards
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'vision-card'){
				current_cards.splice(i,1)
			}
		}
		localStorage.setItem('current_cards',JSON.stringify(current_cards))
		resetCards()
	}
})

$('.five .lock').on('click',function(){
	if($(this).hasClass('on')){
		locked.splice(locked.indexOf(".five"),1);
		localStorage.setItem('locked',JSON.stringify(locked))
		$(this).removeClass('on');
		pushCards(actionbank, 'action-card')
		shuffleArray(current_cards)
		resetCards()
	}else{
		$(this).addClass('on');
		locked.push('.five')
		localStorage.setItem('locked',JSON.stringify(locked))
		//remove these cards
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'action-card'){
				current_cards.splice(i,1)
			}
		}
		resetCards()
	}
})

$('.three .lock').on('click',function(){
	if($(this).hasClass('on')){
		locked.splice(locked.indexOf(".three"),1);
		localStorage.setItem('locked',JSON.stringify(locked))
		$(this).removeClass('on');
		pushCards(processbank, 'process-card')
		shuffleArray(current_cards)
		resetCards()
	}else{
		$(this).addClass('on');
		locked.push('.three')
		localStorage.setItem('locked',JSON.stringify(locked))
		//remove these cards
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'process-card'){
				current_cards.splice(i,1)
			}
		}
		resetCards()
	}
})

$('.six .lock').on('click',function(){
	if($(this).hasClass('on')){
		locked.splice(locked.indexOf(".six"),1);
		localStorage.setItem('locked',JSON.stringify(locked))
		$(this).removeClass('on');
		pushCards(reachbank, 'reach-card')
		shuffleArray(current_cards)
		resetCards()
	}else{
		$(this).addClass('on');
		locked.push('.six')
		localStorage.setItem('locked',JSON.stringify(locked))
		//remove these cards
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'reach-card'){
				current_cards.splice(i,1)
			}
		}
		resetCards()
	}
})



//POPULATING DROPDOWNS
	//one
	// console.log(JSON.parse(localStorage.getItem('one')))

	var myOne = JSON.parse(localStorage.getItem('goals')) || goalsbank;
	var myTwo = JSON.parse(localStorage.getItem('vision')) || visionbank;
	var myThree = JSON.parse(localStorage.getItem('process')) || processbank;
	var myFive = JSON.parse(localStorage.getItem('action')) || actionbank;
	var mySix = JSON.parse(localStorage.getItem('reach')) || reachbank;


	for (var i = myOne.length - 1; i >= 0; i--) {
		console.log(myOne[i])
		var el = makeCard(myOne[i][0], myOne[i][1])
		el.addClass('goal-card')
		$('.one .dropdown .options').append(el)
	}


	for (var i = myTwo.length - 1; i >= 0; i--) {
		var el = makeCard(myTwo[i][0], myTwo[i][1])
		el.addClass('vision-card')
		$('.two .dropdown .options').append(el)
	}


	//three
	for (var i = myThree.length - 1; i >= 0; i--) {
		var el = makeCard(myThree[i][0], myThree[i][1])
		el.addClass('process-card')
		$('.three .dropdown .options').append(el)
	}


	//four
	//five
	for (var i = myFive.length - 1; i >= 0; i--) {
		var el = makeCard(myFive[i][0], myFive[i][1])
		el.addClass('action-card')
		$('.five .dropdown .options').append(el)
	}


	//six
	for (var i = mySix.length - 1; i >= 0; i--) {
		var el = makeCard(mySix[i][0], mySix[i][1])
		el.addClass('reach-card')
		$('.six .dropdown .options').append(el)
	}

$('.restore').on('click', function(){
	var bank = $(this).attr('data-bank')
	if(bank == 'one'){
		localStorage.setItem('goalsbank',JSON.stringify(goalsbank1))
		$('.one .dropdown .options').empty()
		for (var i = goalsbank1.length - 1; i >= 0; i--) {
			var el = makeCard(goalsbank1[i][0], goalsbank1[i][1])
			el.addClass('goals-card')
			$('.one .dropdown .options').append(el)
		}
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'goals-card'){
				current_cards.splice(i,1)
			}
		}
		pushCards(goalsbank1, 'goal-card')
		shuffleArray(current_cards)
	}else if(bank == 'two'){
		localStorage.setItem('visionbank',JSON.stringify(visionbank1))
		$('.two .dropdown .options').empty()
		for (var i = visionbank1.length - 1; i >= 0; i--) {
			var el = makeCard(visionbank1[i][0], visionbank1[i][1])
			el.addClass('vision-card')
			$('.two .dropdown .options').append(el)
		}
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'vision-card'){
				current_cards.splice(i,1)
			}
		}
		pushCards(visionbank1, 'vision-card')
		shuffleArray(current_cards)
	}else if(bank =='three'){
		localStorage.setItem('processbank',JSON.stringify(processbank1))
		$('.three .dropdown .options').empty()
		for (var i = processbank1.length - 1; i >= 0; i--) {
			var el = makeCard(processbank1[i][0], processbank1[i][1])
			el.addClass('process-card')
			$('.three .dropdown .options').append(el)
		}
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'process-card'){
				current_cards.splice(i,1)
			}
		}
		pushCards(processbank1, 'process-card')
		shuffleArray(current_cards)
	}else if(bank =='five'){
		localStorage.setItem('actionbank',JSON.stringify(actionbank1))
		$('.five .dropdown .options').empty()
		for (var i = actionbank1.length - 1; i >= 0; i--) {
			var el = makeCard(actionbank1[i][0], actionbank1[i][1])
			el.addClass('action-card')
			$('.five .dropdown .options').append(el)
		}
		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'action-card'){
				current_cards.splice(i,1)
			}
		}
		pushCards(actionbank1, 'action-card')
		shuffleArray(current_cards)
	}else if(bank =='six'){
		localStorage.setItem('reachbank',JSON.stringify(reachbank1))
		$('.six .dropdown .options').empty()
		for (var i = reachbank1.length - 1; i >= 0; i--) {
			var el = makeCard(reachbank1[i][0], reachbank1[i][1])
			el.addClass('reach-card')
			$('.six .dropdown .options').append(el)
		}

		for (var i = current_cards.length - 1; i >= 0; i--) {
			if(current_cards[i][2] == 'reach-card'){
				current_cards.splice(i,1)
			}
		}
		pushCards(reachbank1, 'reach-card')
		shuffleArray(current_cards)
		localStorage.setItem('current_cards',JSON.stringify(current_cards))
	//repopulate cards in dropdown and in slideshow...
	}
	resetCards()
})

$(".input-area").submit(function(e){
	e.preventDefault()
	var bank = $(this).attr('data-bank');
	var h1 = $(this).find("input[name='h1']").val()
	var h3 = $(this).find("input[name='h3']").val()
	var el = makeCard(h1,h3)
	var my_class;
	if(bank == 'one'){
		var bank = JSON.parse(localStorage.getItem('goalsbank'))
		bank.push([h1,h3])
		localStorage.setItem('goalsbank', JSON.stringify(bank))
		el.addClass('goals-card')
		$('.one .dropdown .options').prepend(el)
		my_class = 'goals-card'
	} else if(bank == 'two'){
		var bank = JSON.parse(localStorage.getItem('visionbank'))
		bank.push([h1,h3])
		localStorage.setItem('visionbank', JSON.stringify(bank))
		el.addClass('vision-card')
		$('.two .dropdown .options').prepend(el)
		my_class = 'vision-card'
	} else if(bank == 'three'){
		var bank = JSON.parse(localStorage.getItem('processbank'))
		bank.push([h1,h3])
		localStorage.setItem('processbank', JSON.stringify(bank))
		el.addClass('process-card')
		$('.three .dropdown .options').prepend(el)
		my_class = 'process-card'
	} else if (bank == 'five'){
		var bank = JSON.parse(localStorage.getItem('actionbank'))
		bank.push([h1,h3])
		localStorage.setItem('actionbank',JSON.stringify(bank))
		el.addClass('action-card')
		$('.five .dropdown .options').prepend(el)
		my_class = 'action-card'
	} else if(bank == 'six'){
		var bank = JSON.parse(localStorage.getItem('reachbank'))
		bank.push([h1,h3])
		localStorage.setItem('reachbank', JSON.stringify(bank))
		el.addClass('reach-card')
		$('.six .dropdown .options').prepend(el)
		my_class = 'reach-card'

	}

	// var current_cards2 = JSON.parse(localStorage.getItem('current_cards'));
	current_cards.push([h1,h3,my_class])
	localStorage.setItem('current_cards', JSON.stringify(current_cards))
	resetCards()

	})
}